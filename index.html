<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TURAMI</title>
    <link rel="stylesheet" href="main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Abhaya+Libre:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="home">
    <div class="poster-bg"></div>

    <header>
      <div class="header-wrapper">
        <h1 class="logo">TURAMI</h1>
        <button class="menu-toggle" id="menu-toggle" aria-label="메뉴 열기">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </button>
      </div>
    </header>

    <div class="menu-cover"></div>

    <nav class="menu" id="menu" aria-label="사이트 메뉴">
      <ul>
        <li><a href="./index.html">HOME</a></li>
        <li><a href="./html/about.html">ABOUT</a></li>
        <li><a href="./html/setlist.html">SETLIST</a></li>
        <li><a href="./html/members.html">MEMBERS</a></li>
        <li><a href="./html/ticket.html">TICKET</a></li>
        <li><a href="./html/sponsor.html">SPONSOR</a></li>
      </ul>
    </nav>

    <main>
      <section class="poster-section">
        <!-- 트리거: 데스크톱=호버, 모바일/터치=클릭 토글 -->
        <div
          class="poster-wrap"
          id="home-hero"
          role="button"
          tabindex="0"
          aria-haspopup="dialog"
          aria-controls="hero-overlay"
          aria-expanded="false"
        >
          <img class="poster-img" src="./images/poster.png" alt="공연 포스터" />
          <span class="poster-hint">클릭하여<br />세부정보 확인</span>

          <!-- 투명 오버레이: 항상 포스터 내부로 클리핑 -->
          <div
            class="hero-overlay"
            id="hero-overlay"
            role="dialog"
            aria-modal="true"
            aria-hidden="true"
          >
            <!-- 내용 폭과 간격을 관리하는 컨테이너(배경 없음) -->
            <div class="hero-card" aria-label="TURAMI 링크">
              <div class="hero-logo">
                <img src="./images/turami_logo.png" alt="TURAMI 로고" />
              </div>

              <p class="hero-desc">
                홍익대학교 중앙 창작곡 밴드 동아리 ‘뚜라미’<br />
                2025년도 정기 가을공연 &lt;Free Bird&gt;
              </p>

              <div class="btn-list">
                <a
                  class="btn btn-yt"
                  href="https://www.youtube.com/@hongik_TURAMI"
                  target="_blank"
                  rel="noopener"
                  >뚜라미 공식 유튜브 채널</a
                >
                <a
                  class="btn btn-ig"
                  href="https://www.instagram.com/turami_hongik/"
                  target="_blank"
                  rel="noopener"
                  >뚜라미 공식 인스타그램</a
                >
                <a
                  class="btn btn-ig"
                  href="https://www.instagram.com/tugetherami/"
                  target="_blank"
                  rel="noopener"
                  >뚜라미 활동 인스타그램</a
                >
                <a
                  class="btn btn-video"
                  href="https://youtube.com/playlist?list=PLefGzk5Ndwqs69vKLASKBgkOwqGNirVZt&si=cH_JFUF1CsmybMAS"
                  target="_blank"
                  rel="noopener"
                  >2025 정기 봄공연 영상 감상</a
                >
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <p>Copyright(c) 2025 TURAMI, Hongik University. ALL RIGHTS RESERVED.</p>
    </footer>

    <!-- 헤더 전용 스크립트 -->
    <script src="./js/header.js"></script>

    <!-- 터치 환경에서만 클릭으로 토글 (데스크톱은 hover로 동작) -->
    <script>
      (function () {
        const wrap = document.getElementById("home-hero");
        if (!wrap) return;

        const overlay = wrap.querySelector("#hero-overlay");
        const firstBtn = wrap.querySelector(".btn-list .btn");
        const isTouch = matchMedia("(hover: none)").matches;

        const open = () => {
          wrap.classList.add("is-open");
          overlay.setAttribute("aria-hidden", "false");
          wrap.setAttribute("aria-expanded", "true");
          // 모바일에서도 힌트 텍스트 즉시 숨김
          wrap.classList.add("hide-hint");
          setTimeout(() => firstBtn && firstBtn.focus(), 0);
        };
        const close = () => {
          wrap.classList.remove("is-open");
          overlay.setAttribute("aria-hidden", "true");
          wrap.setAttribute("aria-expanded", "false");
          wrap.classList.remove("hide-hint");
          wrap.focus();
        };

        if (isTouch) {
          wrap.addEventListener("click", (e) => {
            const insideContent = e.target.closest(".hero-card");
            if (insideContent && e.target.tagName === "A") return; // 링크 클릭은 토글 무시
            wrap.classList.contains("is-open") ? close() : open();
          });
          document.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && wrap.classList.contains("is-open"))
              close();
          });
        }
      })();
    </script>
  </body>
</html>
