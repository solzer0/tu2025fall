const songs = [
   // --- Part 1 ---
  {
    title: "Far Away",
    part: "1",
    meta: "원곡 | 라쿠나\n참여 | 옥민준(V,G2) 유수민(G1) 조아름(B) 오다연(D)",
    lyrics: "가사 내용 1..."
  },
  {
    title: "날씨의 요정",
    part: "1",
    meta: "원곡 | 신인류\n참여 | 박지윤(V) 구연성(G1) 유수민(G2) 김예은(B) 조민재(D) 김수민(K1) 이서윤(K2)",
    lyrics: "가사 내용 2..."
  },
  {
    title: "I don't like",
    part: "1",
    meta: "작곡 | 손윤성\n참여 | 선율(V) 오명(G1) 구연성(G2) 신한영(B) 김채영(D) 김다영(K1) 설수민(K2) 이민규(Chorus)",
    lyrics: "가사 내용 3..."
  },
  {
    title: "친애하는 소년이여",
    part: "1",
    meta: "원곡 | Hump Back\n참여 | 정예은(V) 서범석(G1) 유수민(G2) 장희수(B) 부경민(D)",
    lyrics: "가사 내용 4..."
  },
  {
    title: "제비",
    part: "1",
    meta: "작곡 | 강민혜\n참여 | 이우준(V) 구연성(G) 최종윤(B) 조은비(D) 이재민(K)",
    lyrics: "가사 내용 5..."
  },
  {
    title: "Jesus lived in a motel room",
    part: "1",
    meta: "원곡 | 혁오\n참여 | 문민기(V) 임경재(G) 조아름(B) 임채은(D)",
    lyrics: 
`I had to tell you
(당신에게 묻습니다)
Don't you feel fear
(당신은 두려움을 느끼지 않나요?)
Done telling people no need to say
(말할 필요가 없다고 사람들에게 이야기하기 지쳤습니다)

I had to tell you
(당신에게 묻습니다)
Why can't you hear
(왜 듣지를 못하나요)
Anxiety surrounding me
(불안감이 날 에워싸네요)
I had to tell you
(당신에게 묻습니다)
There's no big deal
(별 일이 있는 건 아닙니다)
It happens all the time
(이건 항상 있는 일이죠)
So honestly not a thing to fix
(그러니까 그렇게 바로잡을 일까지는 아니에요)

My mama always told me
(우리 엄마는 항상 내게 말하셨죠)
Don't waste a minute
(시간을 낭비하지 말라고)
Nirvana as how it is
(마치 열반에 이른 것 처럼)
(불교에서의 궁극의 목적, 한글로는 '해탈의 경지'를 뜻함)
And papa always told me
(그리고 아빠는 언제나 내게 말했어요)
Vigilance vivid
(항상 경계하라고)
Or you will loose what you got
(그렇지 않으면 네가 갖고 있는 것을 잃어버릴 거라고)
Then they both tried to warn me
(그리고 두 분은 내게 경고하려고 했죠)
Closed door falls into silence
(닫힌 문은 정적 속에 잠기게 된다고)
I'm drifted too far away
(나는 너무 멀리 표류했어요)
Then it went out of sight and
(그리고 시야에서 벗어난 그것은)
No outline's left
(윤곽조차 보이지 않게 되었죠)
Now time to go back
(이제는 돌아갈 시간이네요)
Ocean of tears
(눈물의 바다로)

Before the sailing gotta turn back
(배의 기수를 돌리기 이전에)
Now it's the time to go back
(이제는 돌아갈 시간이에요)
My tongue can make or break
(나의 혀는 더 나아갈지 멈출지 결정할 수 있죠)
Before I slip and realize
(내가 실수하고 깨닫기 전에)
Yeah it's the time to go back
(그래요, 이제는 돌아갈 시간이에요)
He hasn't figured out
(그는 아직 깨닫지 못했어요)
Guess I should have to go back
(아마 이제 돌아가야 할 것 같아요)
Maybe I'm bout to go to hell
(어쩌면 나는 지옥에 갈 지도 모르네요)
Something's are roaming
(무엇인가가 어슬렁대고 있어요)
It's so hard to pull it out
(그걸 떨쳐내기가 힘드네요)

Choose which praying hands will be ontop of the other hand
(기도하는 손 중에서 어떤 손이 다른 손 위에 놓일 지 선택해야 해요)
I look for my bible to shore
(나는 해안가에서 내 성서를 찾아요)
Think I left my bible 'bout around here somewhere
(아마도 내 성서를 이 주변 어딘가에 흘린 것 같은데)
So I go through the table, under my bed to figure
(그래서 나는 탁자하고 내 침대 밑까지 살펴봐요)
No I should better get down on my knees
(아니 그냥 무릎을 꿇는 게 좋겠네요)
(성서를 찾을 시간에 차라리 기도를 더 하겠다는 뜻으로 해석 가능할 수 있을 것 같습니다)
Knocking on the heavens door it maybe hell it could be
(천국의 문을 두드리지만 어쩌면 지옥의 문일 수도 있어요)
Focus on to focus I close my eyes
(집중하기 위해 나는 눈을 감아요)
Then Oye yells
(그리고 *Oye라고 외칩니다)
(*스페인어로 Hey)

Choose which praying hands will be on top of the other hand
(기도하는 손 중에서 어떤 손이 다른 손 위에 놓일 지 선택해야 해요)
I look for my bible to shore
(나는 해안가에서 내 성서를 찾아요)
Think I left my bible 'bout around here somewhere
(아마도 내 성서를 이 주변 어딘가에 흘린 것 같은데)
So I go through the table, under my bed to figure
(그래서 나는 탁자하고 내 침대 밑까지 살펴봐요)
No I should better get down on my knees
(아니 그냥 무릎을 꿇는 게 좋겠네요)
Knocking on the heavens door it maybe hell it could be
(천국의 문을 두드리지만 어쩌면 지옥의 문일 수도 있어요)
Focus on to focus I close my eyes
(집중하기 위해 나는 눈을 감아요)
Then Oye yells
(그리고 Oye라고 외칩니다)
`
  },
  {
    title: "Valentine's Eve",
    part: "1",
    meta: "작곡 | 신승민\n참여 | 박지윤(V) 구연성(G1) 유수민(G2) 김예은(B) 조민재(D) 김수민(K1) 이서윤(K2)",
    lyrics: "가사 내용 7..."
    
  },
  {
    title: "행운을 부탁해",
    part: "1",
    meta: "원곡 | 보라미유\n참여 | 박지윤(V) 구연성(G1) 유수민(G2) 김예은(B) 조민재(D) 김수민(K1) 이서윤(K2)",
    lyrics: "가사 내용 8..."
    
  },
   // --- Part 2 ---
   {
    title: "전설",
    part: "2",
    meta: "원곡 | 잔나비\n참여 | 구연성(V) 김동현(AG) 정대현(EG1) 이우준(EG2) 유진(B) 김채영(D) 이제하(K1) 정홍준(K2)",
    lyrics: "가사 내용 1..."
  },
  {
    title: "Ch. 2",
    part: "2",
    meta: "작곡 | 박지윤\n참여 | 옥민준(V,G2) 유수민(G1) 조아름(B) 오다연(D)",
    lyrics: "가사 내용 2..."
  },
  {
    title: "Bremen",
    part: "2",
    meta: "원곡 | ヨルシカ(요루시카)\n참여 | 선율(V) 오명(G1) 구연성(G2) 신한영(B) 김채영(D) 김다영(K1) 설수민(K2) 이민규(Chorus)",
    lyrics: "가사 내용 3..."
  },
  {
    title: "아이 마네킹",
    part: "2",
    meta: "작곡 | 설수민\n참여 | 선율(V) 오명(G1) 구연성(G2) 신한영(B) 김채영(D) 김다영(K1) 설수민(K2) 이민규(Chorus)",
    lyrics: "가사 내용 4..."
  },
  {
    title: "내려놔",
    part: "2",
    meta: "작곡 | 이민규\n참여 | 정예은(V) 서범석(G1) 유수민(G2) 장희수(B) 부경민(D)",
    lyrics: "가사 내용 5..."
  },
  {
    title: "깊은 밤을 날아서",
    part: "2",
    meta: "원곡 | 이문세\n참여 | 이우준(V) 구연성(G) 최종윤(B) 조은비(D) 이재민(K)",
    lyrics: "가사 내용 6..."
  },
  {
    title: "BETELGEUSE",
    part: "2",
    meta: "원곡 | 優里(유우리)\n참여 | 방민서(V) 김동현(AG) 정대현(EG1) 임경재(EG2) 김예은(B) 조은비(D) 설수민(K)",
    lyrics: "가사 내용 7..."
  },
  
  {
    title: "???",
    part: "2",
    meta: "원곡 | 유다빈밴드\n참여 | 박지윤(V) 구연성(G1) 유수민(G2) 김예은(B) 조민재(D) 김수민(K1) 이서윤(K2)",
    lyrics: "가사 내용 8..."
  },

];
document.addEventListener("DOMContentLoaded", () => {
  const songList = document.getElementById("songList");
  const detailHeader = document.querySelector(".song-detail-header");
  const lyricsBox = document.querySelector(".song-lyrics-scroll");
  const tabs = document.querySelectorAll(".tab");
  const divider = document.getElementById("songDivider");

  // 안내문(센터 정렬) 세팅 함수
  function setDefaultDetailMessage() {
    detailHeader.classList.add("centered"); // CSS에 .song-detail-header.centered 정의 필요
    detailHeader.innerHTML = "클릭하여 세부 정보를 확인해주세요!<br />창을 다시 클릭하면 창이 닫힙니다.";
    lyricsBox.innerHTML = "";
    if (divider) divider.style.display = "none";
  }

  function renderSongs(part) {
    songList.innerHTML = "";

    songs
      .filter(song => song.part === part)
      .forEach(song => {
        const li = document.createElement("li");
        li.textContent = song.title;
        // 클릭 토글
       li.addEventListener("click", () => {
          const alreadyActive = li.classList.contains("active");
          // 모두 비활성화
          Array.from(songList.children).forEach(n => n.classList.remove("active"));
          if (alreadyActive) {
            // 접기
            setDefaultDetailMessage();
            return;
          }
          // 활성화
          li.classList.add("active");
          // 상세(좌측 정렬로 전환)
          detailHeader.classList.remove("centered");
          detailHeader.innerHTML = `
            <strong>${song.title}</strong><br>
            <span style="font-size:0.85rem;">${song.meta.replaceAll("\n", "<br>")}</span>
          `;
          // 구분선 + 가사 표시
          if (divider) divider.style.display = "block";
          lyricsBox.textContent = song.lyrics || "가사 정보가 없습니다.";
        });

        songList.appendChild(li);
      });
  }

  // 탭 전환
  tabs.forEach(tab => {
    tab.addEventListener("click", () => {
      tabs.forEach(t => t.classList.remove("active"));
      tab.classList.add("active");
      
      renderSongs(tab.dataset.part);
      setDefaultDetailMessage(); // 안내문 중앙 정렬 상태로 리셋
    });
  });

  // 곡 클릭 시 선택 표시
  document.querySelectorAll('#songList li').forEach(n => n.classList.remove('active'));
  li.classList.add('active');

  // 초기 상태: 1부 탭 활성화 + 리스트 렌더 + 안내문
  tabs.forEach(t => t.classList.remove("active"));
  const firstTab = document.querySelector('.tab[data-part="1"]');
  if (firstTab) firstTab.classList.add("active");
  
  renderSongs("1");
  setDefaultDetailMessage();
});